$muted: #666;
$tableBorderColor: #eee;

$strongDem: #5c6b95;
$weakDem: #9facd0;
$strongGOP: #bc5c5c;
$weakGOP: #bc8c8c;

$tossup: #cfab67;
$undecided: #ddd;
$independent: #339947;
$libertarian: #7f5217;

$facebookBlue: #3b5998 ;
$twitterBlue: #c0deed ;

$splash-ele-bg: #eee;

$red: #E82C0C;
$blue: #0E61E5;

$widgetRed: #B72727;
$widgetBlue: #1559D1;
$widgetLightRed: lighten($widgetRed, 45%);
$widgetLightBlue: lighten($widgetBlue, 45%);

$header-font-family: ProximaNovaCond-Extrabld, Arial, Helvetica, sans-serif;
$huffpo-font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
$body-font-family: Source Sans Pro, Arial, Helvetica, sans-serif;

@mixin no-results-swatch {
  background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="5" height="5"><rect x="0" y="0" width="5" height="5" fill="%23ddd"/><path d="M-.5,-.5L.5,-.5M-.5,5.5L5.5,-.5M4.5,5.5L5.5,4.5" stroke-width="1" stroke="white"/></svg>');
}

@mixin vertical-center-flex {
	display: -webkit-inline-flex;
  display: inline-flex;
 	align-items: center;
	-webkit-align-items: center;
	height: 100%;
}

@mixin body-copy {
	margin: 0;
  font-family: $body-font-family;
	background-color: #fff;
}

@mixin huffpo-body-copy {
  font-family: $huffpo-font-family;
}

@mixin header-copy {
  font-family: $header-font-family;
}

@mixin rail-link-out {
  .tease-link { @include tease-link(); }
}

@mixin precincts-reporting-conditionals {
  .no-precincts-reporting .when-precincts-reporting,
  .precincts-reporting .when-no-precincts-reporting {
    display: none;
  }
}

@mixin tense-conditionals {
  .race-day-past {
    .when-future:not(.when-past),
    .when-present:not(.when-past) { display: none;}
  }

  .race-day-present {
    .when-future:not(.when-present),
    .when-past:not(.when-present) { display: none;}
  }

  .race-day-future {
    .when-past:not(.when-future),
    .when-present:not(.when-future) { display: none; }
  }
}

@mixin tease-link {

  display: -webkit-flex;
  display: flex;
  -webkit-align-items: center;
  align-items: center;
  border: 1px solid #cdcdcd;
  border-radius: 5px;
  a {
    //font-weight: bold;
    width: 100%;
    padding: 10px;
    text-decoration: none;
    text-align: center;
  }
  &:hover {
    background-color: #eee;
  }
}

@mixin pollster-table {
  border-collapse: collapse;

  td, th {
    padding: 2px 10px;
    border-bottom: 1px solid #ccc;
    white-space: nowrap;
  }

  .candidate {
    text-align: left;
  }

  .pollster {
    text-align: right;
    font-weight: bold;
  }

  th {
    border-bottom: 1px solid #999;
  }

  th.pollster {
    position: relative;

    .long-table-heading {
      position: absolute;
      // Copy from <th>'s padding
      top: 2px;
      right: 10px;
    }
  }

  td.candidate {
    width: 100%;

    img {
      margin-top: -2px;
      margin-bottom: -2px;
      width: 24px;
      height: 36px;
      vertical-align: middle;
      padding-right: .4em;
    }
  }

  &[data-party-id=Dem] .sparkline path {
    stroke: $strongDem;
  }

  &[data-party-id=GOP] .sparkline path {
    stroke: $strongGOP;
  }

  .sparkline {
    vertical-align: middle;
    width: 3rem;
    height: 1rem;
  }

  .sparkline + .percent {
    display: inline-block;
    width: 2.25em;
  }
}

@mixin widget-base {
  @include huffpo-body-copy;

  a {
    color: #2e7061;
  }

  h1, h2, h3, h4{
    &.main-hed {
      @include header-copy;
    }
  }

	.header {
		h1, h5, h4 {
			margin: 0;
		}
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    
    display: -webkit-flex;
    -webkit-flex-direction: row;
    -webkit-justify-content: center;
    -webkit-align-items: center;

    .line {
      height: 2px;
      background: black;
      flex-grow: 1;
      -webkit-flex-grow: 1;
    }

    h1 {
      padding: 5px;
    }
	}

	@include rail-link-out;
}

@mixin footnotes {
  color: $muted;
  font-size: .75rem;
  line-height: .85rem;

  p {
    margin: .5rem 0;
  }
}


@mixin ellipsized-table {
  &.ellipsized tr.ellipsized {
    display: none;
  }

  & + .ellipsize-table-prompt {
    height: 2rem;
    text-align: center;

    button {
      box-sizing: border-box;
      margin: 0;
      padding: .25em 1rem;
      height: 2rem;
      line-height: 1.5rem;
      border: none;
      font: inherit;
      background: none;
      cursor: pointer;
      color: #999;
      border: 1px solid #ccc;
      border-top: none;
      text-transform: uppercase;
      font-size: 0.8em;
    }
  }
}

@mixin mobile-ad-base {
	@include widget-base;
}

@mixin svg-city-label {
  // JavaScript will position this text correctly; only JavaScript can
  // measure the width, because only JavaScript has the font.
  fill: none;
  font-family: Source Sans Pro, Helvetica, Arial, sans-serif;
  pointer-events: none;

  // JavaScript doesn't know where the text's baseline is, and that's the `y`
  // coordinate by default. Make (x,y) point to the lower-left of the text.
  dominant-baseline: text-before-edge;

  &.background {
    fill: none;
    stroke: white;
    stroke-width: 3px;
  }

  &.foreground {
    fill: #333;
  }
}

@mixin refresh-button {
  &::before {
    content: ' ';
    background: url('data:image/svg+xml,<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 78"><path fill="white" d="M38.912,56.98c-8.401,0-15.414-5.893-17.157-13.777h11.347L16.5,18.777L-0.093,43.203h11.335 c1.862,13.641,13.524,24.172,27.677,24.172c4.7,0,9.117-1.174,13-3.221L44,56.23C42.384,56.715,40.686,56.98,38.912,56.98zM66.486,34.896c-2.153-13.299-13.658-23.461-27.566-23.468c-4.692,0-9.117,1.177-13,3.222l7.92,7.919 c1.608-0.488,3.321-0.754,5.088-0.754c8.157,0,14.984,5.558,16.98,13.082H44.764l16.601,24.431l16.597-24.431H66.486z"/></svg>');
    vertical-align: middle;
    background-size: 100% 100%;
    display: inline-block;
    width: 1rem;
    height: 1rem;
    margin-right: .35rem;
  }

  &.clicked::before {
    animation: spin 1s infinite linear;
  }

  &:hover {
    border-color: $muted;
  }

  cursor: pointer;
  border: 2px solid transparent;
  padding: .1rem .5rem .15rem;
  margin: 0;
  background: $red;
  color: white;
  font: inherit;
  font-weight: bold;
  line-height: 1;
  vertical-align: middle;
}

@mixin dots-inline-block {
  display: inline-block; // so they wrap at a small line height
  font-size: 1rem;       // all dots are the same size
  white-space: normal;   // in case parents have white-space: nowrap
  line-height: .4;
  margin-top: -.25rem;   // because line-height makes things weird

  word-break: break-all;     // what you'd expect
  word-wrap: break-word;     // IE Edge
  overflow-wrap: break-word; // CSS3 equivalent of word-wrap
}
