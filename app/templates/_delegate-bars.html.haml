%div.delegate-counts
  - parties.each do |par|
    %div.party-container{:id => par.adjective}
      %h3.bar-chart-hed= "#{par.adjective} Party"
      - par.candidates.each do |cd|
        %div.candidate-container{ :'data-candidate-id' => cd.id }
          - if par.adjective == 'Republican'
            %span.cd-name= cd.name
            %div.total-delegates-bar
              %div.n-delegates-bar{ :style => "width: #{cd.n_delegates.to_f / par.n_delegates_total.to_f * 100}%;" }
            %span.n-delegates-count= cd.n_delegates
          - else
            %span.cd-name= cd.name
            %div.total-delegates-bar
              %div.n-delegates-bar{ :style => "width: #{cd.n_delegates.to_f / par.n_delegates_total.to_f * 100}%;" }
            %span.n-delegates-count= cd.n_delegates
