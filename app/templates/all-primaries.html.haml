-# Called with a AllPrimariesPageGenerator::HtmlContext
!!! 5
%html{lang: 'en'}
  %head
    %title Presidential Primary Races
    %link{rel: 'stylesheet', href: main_css_path}
  %body.all-primaries
    = render(partial: 'topbar')

    #main
      %h1 Presidential Primary Races

      = render(partial: 'delegate-bars')
      = render(partial: 'calendar')

      - Party.all.each do |party|
        %h2= "#{party.adjective} Candidates"
        %table
          %thead
            %tr
              %th.candidate Candidate
              %th.n-delegates Del.
          %tbody
            - party.candidates.each do |candidate|
              %tr
                %td.candidate= candidate.name
                %td.n-delegates= candidate.n_delegates

      %svg#main-map

    %script{src: main_js_path}
